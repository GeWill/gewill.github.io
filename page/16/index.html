<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.17.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.json","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="The people who are crazy enough to think they can change the world, are the ones who DO.">
<meta property="og:type" content="website">
<meta property="og:title" content="Will&#39;s Blog">
<meta property="og:url" content="http://example.com/page/16/index.html">
<meta property="og:site_name" content="Will&#39;s Blog">
<meta property="og:description" content="The people who are crazy enough to think they can change the world, are the ones who DO.">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Ge Will">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/16/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/16/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Will's Blog</title>
  







<head>
    <!-- 霞鹜文楷字体 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.7.0/style.css"/>

    <!-- datapulse统计 -->
    <script defer type="text/javascript" src="https://datapulse.app/datapulse.min.js" id="datapulse" data-endpoint="https://datapulse.app/api/v1/event" data-workspace="cljxqml5q0y0f8j37d4futnbl"></script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DR0FC9YJLH"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'G-DR0FC9YJLH');
    </script>

    <!-- 看板娘 -->
    <script src="https://fastly.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js"></script>
</head>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Will's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">193</span></a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">11</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">1</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Ge Will"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">Ge Will</p>
  <div class="site-description" itemprop="description">The people who are crazy enough to think they can change the world, are the ones who DO.</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">193</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/gewill" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;gewill" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:531sunlight@gmail.com" title="E-Mail → mailto:531sunlight@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/gewei" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;gewei" rel="noopener me" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/BoJack_D" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;BoJack_D" rel="noopener me" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2015/07/28/iOS-Programming-4ed-6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Ge Will">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Will's Blog">
      <meta itemprop="description" content="The people who are crazy enough to think they can change the world, are the ones who DO.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Will's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/07/28/iOS-Programming-4ed-6/" class="post-title-link" itemprop="url">《iOS 编程》6. 视图控制器</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-07-28 16:27:23" itemprop="dateCreated datePublished" datetime="2015-07-28T16:27:23+08:00">2015-07-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-08 17:06:49" itemprop="dateModified" datetime="2023-09-08T17:06:49+08:00">2023-09-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="6-5-添加本地通知"><a href="#6-5-添加本地通知" class="headerlink" title="6.5 添加本地通知"></a>6.5 添加本地通知</h2><p>书中没有提到申请通知权限，方法如下</p>
<p><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/24203066/ask-user-for-permission-to-show-alert-when-firing-local-notification">add this code, it will show a alert view to ask user for permission.</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">if ([UIApplication instancesRespondToSelector:@selector(registerUserNotificationSettings:)]) &#123;</span><br><span class="line">    [[UIApplication sharedApplication] registerUserNotificationSettings:[UIUserNotificationSettings settingsForTypes:UIUserNotificationTypeAlert|UIUserNotificationTypeSound|UIUserNotificationTypeBadge</span><br><span class="line">                                                                                                          categories:nil]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<h2 id="6-7-与视图控制器及其视图进行交互"><a href="#6-7-与视图控制器及其视图进行交互" class="headerlink" title="6.7 与视图控制器及其视图进行交互"></a>6.7 与视图控制器及其视图进行交互</h2><p><strong>视图控制器的生命周期方法（lifecycle method）：</strong></p>
<ul>
<li><p>application:didFinishLaunchingWithOptions:在该方法中设置和初始化应用窗口的根视图控制器。该方法只会在应用启动完毕后调用一次。</p>
</li>
<li><p>initWithNibName:bundle:该方法是UIViewController的指定初始化方法，创建视图控制器时，就会调用该方法。请注意，某些情况下，需要在同一个应用中创建多个相同的UIViewController子类对象，每次创建一个该类的对象时，都会调用一次该类的initWithNibName:bundle:方法。</p>
</li>
<li><p>loadView:可以覆盖该方法，使用代码方式设置视图控制器的view属性。</p>
</li>
<li><p>viewDidLoad可以覆盖该方法，设置使用NIB文件创建的视图对象。该方法会在视图控制器加载完视图后被调用。</p>
</li>
<li><p>viewWillAppear:可以覆盖该方法，设置使用NIB文件创建的视图对象。该方法和</p>
</li>
<li><p>viewDidAppear:会在每次视图控制器的view显示在屏幕上时被调用；相反，</p>
</li>
<li><p>viewWillDisappear:和viewDidDisappear:方法会在每次视图控制器的view从屏幕上消失时被调用。</p>
</li>
</ul>
<h2 id="6-9-中级练习：控制逻辑"><a href="#6-9-中级练习：控制逻辑" class="headerlink" title="6.9 中级练习：控制逻辑"></a>6.9 中级练习：控制逻辑</h2><p>查文档不懂，这是个大问题，有待提高看文档具体怎么组织的能力。<a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/6688160/how-to-programmatically-add-a-uisegmentedcontrol-to-a-container-view">Stack Overflow</a> 的答案运行崩溃，没有理解原理，<code>mainSegmentControl:</code> 方法没有声明。最后还是去 <a target="_blank" rel="noopener" href="http://forums.bignerdranch.com/viewtopic.php?f=487&t=9844">BNR论坛</a> 找到了答案。</p>
<blockquote>
<p>熟悉文档浏览 UIColor，其实也是不很精通颜色，但是还是大部分看懂了，也了解了目录结构和对应文本的样式。</p>
</blockquote>
<p>GWHypnosisViewController.m </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">    // Do any additional setup after loading the view.</span><br><span class="line">    NSLog(@&quot;GWHypnosisViewController loaded its view.&quot;);</span><br><span class="line"></span><br><span class="line">    // 初始化UISegmentedControl，设置大小和颜色</span><br><span class="line">    UISegmentedControl *segmentedControl = [[UISegmentedControl alloc] initWithItems:@[@&quot;Red&quot;, @&quot;Green&quot;, @&quot;Blue&quot;]];</span><br><span class="line">    segmentedControl.frame = CGRectMake(0, 0, 250, 50);</span><br><span class="line">    segmentedControl.tintColor = [UIColor blackColor];</span><br><span class="line">    </span><br><span class="line">    // 注册UISegmentedControl</span><br><span class="line">    [segmentedControl addTarget:self.view</span><br><span class="line">                         action:@selector(mainSegmentControl:)</span><br><span class="line">               forControlEvents: UIControlEventValueChanged];</span><br><span class="line">    // 添加到视图</span><br><span class="line">    [self.view addSubview:segmentedControl];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>GWHypnosisView.h</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- (void)mainSegmentControl:(UISegmentedControl *)segment;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>GWHypnosisView.m</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// mainSegmentControl: 方法用来接受 UISegmentedControl 发的消息</span><br><span class="line">- (void)mainSegmentControl:(UISegmentedControl *)segment</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">    if(segment.selectedSegmentIndex == 0)</span><br><span class="line">    &#123;</span><br><span class="line">        // action for the first button (Current or Default)</span><br><span class="line">        self.circleColor = [UIColor redColor];</span><br><span class="line">    &#125;</span><br><span class="line">    else if(segment.selectedSegmentIndex == 1)</span><br><span class="line">    &#123;</span><br><span class="line">        // action for the second button</span><br><span class="line">        self.circleColor = [UIColor greenColor];</span><br><span class="line">    &#125;</span><br><span class="line">    else if(segment.selectedSegmentIndex == 2)</span><br><span class="line">    &#123;</span><br><span class="line">        // action for the third button</span><br><span class="line">        self.circleColor = [UIColor blueColor];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="项目代码保存在我的-GitHub-iOSProgramming4edSolutions"><a href="#项目代码保存在我的-GitHub-iOSProgramming4edSolutions" class="headerlink" title="项目代码保存在我的 GitHub: iOSProgramming4edSolutions"></a>项目代码保存在我的 GitHub: <a target="_blank" rel="noopener" href="https://github.com/gewill/iOSProgramming4edSolutions">iOSProgramming4edSolutions</a></h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2015/07/28/iOS-Programming-4ed-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Ge Will">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Will's Blog">
      <meta itemprop="description" content="The people who are crazy enough to think they can change the world, are the ones who DO.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Will's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/07/28/iOS-Programming-4ed-5/" class="post-title-link" itemprop="url">《iOS 编程》5. 视图：重绘与 UIScrollView</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-07-28 10:27:23" itemprop="dateCreated datePublished" datetime="2015-07-28T10:27:23+08:00">2015-07-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-08 17:06:49" itemprop="dateModified" datetime="2023-09-08T17:06:49+08:00">2023-09-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="5-1-运行循环和重绘原理"><a href="#5-1-运行循环和重绘原理" class="headerlink" title="5.1 运行循环和重绘原理"></a>5.1 运行循环和重绘原理</h2><p>iOS 每次事件处理周期中只发送一次 <code>drawRect:</code> 消息。所以视图要重绘必须向其发送 <code>setNeedDisplay</code> 消息。</p>
<h2 id="5-3-使用-UIScrollView"><a href="#5-3-使用-UIScrollView" class="headerlink" title="5.3 使用 UIScrollView"></a>5.3 使用 UIScrollView</h2><p>添加子视图，设置大小即可。类似一张大的画布，可以方便移动局部查看。</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">CGRect</span> screenRect = <span class="keyword">self</span>.window.bounds;</span><br><span class="line"><span class="built_in">CGRect</span> bigRect = screenRect;</span><br><span class="line">bigRect.size.width *= <span class="number">2.0</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">UIScrollView</span> *scrollView = [[<span class="built_in">UIScrollView</span> alloc] initWithFrame:screenRect];</span><br><span class="line">[scrollView setPagingEnabled:<span class="literal">YES</span>];</span><br><span class="line">[<span class="keyword">self</span>.window addSubview:scrollView];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">GWHypnosisView *hypnosisView = [[GWHypnosisView alloc] initWithFrame:screenRect];</span><br><span class="line">[scrollView addSubview:hypnosisView];</span><br><span class="line"></span><br><span class="line">screenRect.origin.x += screenRect.size.width;</span><br><span class="line">GWHypnosisView *anotherView = [[GWHypnosisView alloc] initWithFrame:screenRect];</span><br><span class="line">[scrollView addSubview:anotherView];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">scrollView.contentSize = bigRect.size;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="项目代码保存在我的-GitHub-iOSProgramming4edSolutions"><a href="#项目代码保存在我的-GitHub-iOSProgramming4edSolutions" class="headerlink" title="项目代码保存在我的 GitHub: iOSProgramming4edSolutions"></a>项目代码保存在我的 GitHub: <a target="_blank" rel="noopener" href="https://github.com/gewill/iOSProgramming4edSolutions">iOSProgramming4edSolutions</a></h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2015/07/27/iOS-Programming-4ed-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Ge Will">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Will's Blog">
      <meta itemprop="description" content="The people who are crazy enough to think they can change the world, are the ones who DO.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Will's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/07/27/iOS-Programming-4ed-4/" class="post-title-link" itemprop="url">《iOS 编程》4. 视图层次结构</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-07-27 17:10:23" itemprop="dateCreated datePublished" datetime="2015-07-27T17:10:23+08:00">2015-07-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-08 17:06:49" itemprop="dateModified" datetime="2023-09-08T17:06:49+08:00">2023-09-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>独立做练习的过程中学习和收获的很多，很多原本认为了解的知识变成了理解和会用的知识。官方文档还有待熟悉。</p>
<p><img src="http://imgur.com/bdYyIqi.jpg" alt="frame vs bounds"></p>
<h2 id="4-2-视图层次结构"><a href="#4-2-视图层次结构" class="headerlink" title="4.2 视图层次结构"></a>4.2 视图层次结构</h2><p><img src="http://i.imgur.com/m0Cjfz1.jpg" alt="View"></p>
<h2 id="4-6-初级练习：绘制图片"><a href="#4-6-初级练习：绘制图片" class="headerlink" title="4.6 初级练习：绘制图片"></a>4.6 初级练习：绘制图片</h2><p><code>GWHypnosisView.m</code> 的 <code>- (void)drawRect:(CGRect)rect&#123;&#125;</code>添加以下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 添加logo，中心点为屏幕中心点</span><br><span class="line">CGRect logoFrame = CGRectMake(center.x - bounds.size.width / 4,  center.y - bounds.size.height / 4, bounds.size.width / 4 * 2, bounds.size.height / 4 * 2);</span><br><span class="line">UIImage *logoimage = [UIImage imageNamed:@&quot;logo.png&quot;];</span><br><span class="line">[logoimage drawInRect:logoFrame];</span><br><span class="line">UIView *logoView = [[UIView alloc]initWithFrame:logoFrame];</span><br><span class="line">[self.window addSubview:logoView];</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="4-8-高级练习：阴影和渐变"><a href="#4-8-高级练习：阴影和渐变" class="headerlink" title="4.8 高级练习：阴影和渐变"></a>4.8 高级练习：阴影和渐变</h2><p><code>GWHypnosisView.m</code> 的 <code>- (void)drawRect:(CGRect)rect&#123;&#125;</code>添加以下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">// 添加三角形，并添加渐变效果</span><br><span class="line"></span><br><span class="line">CGContextRef triangleContext = UIGraphicsGetCurrentContext();</span><br><span class="line"></span><br><span class="line">UIBezierPath *trianglePath = [[UIBezierPath alloc] init];</span><br><span class="line">[trianglePath moveToPoint:CGPointMake(center.x + bounds.size.width / 3, center.y + bounds.size.height / 3)];</span><br><span class="line">[trianglePath addLineToPoint:CGPointMake(center.x - bounds.size.width / 3, center.y + bounds.size.height / 3)];</span><br><span class="line">[trianglePath addLineToPoint:CGPointMake(center.x, center.y - bounds.size.height / 3)];</span><br><span class="line">[trianglePath addLineToPoint:CGPointMake(center.x + bounds.size.width / 3, center.y + bounds.size.height / 3)];</span><br><span class="line">[trianglePath stroke];</span><br><span class="line"></span><br><span class="line">CGContextSaveGState(triangleContext);</span><br><span class="line">[trianglePath addClip];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">CGFloat locations[2] = &#123; 0.0, 1.0 &#125;;</span><br><span class="line">CGFloat components[8] = &#123; 1.0, 1.0, 0.0, 1.0,</span><br><span class="line">    0.0, 0.5, 0.0, 1.0 &#125;;</span><br><span class="line">CGColorSpaceRef colorspace = CGColorSpaceCreateDeviceRGB();</span><br><span class="line">CGGradientRef gradient = CGGradientCreateWithColorComponents(colorspace, components, locations, 2);</span><br><span class="line"></span><br><span class="line">CGPoint startPoint = CGPointMake(center.x, center.y + bounds.size.height / 3 );</span><br><span class="line">CGPoint endPoint = CGPointMake(center.x, center.y - bounds.size.height / 3 );</span><br><span class="line">CGContextDrawLinearGradient(triangleContext, gradient, startPoint, endPoint, 0);</span><br><span class="line"></span><br><span class="line">CGGradientRelease(gradient);</span><br><span class="line">CGColorSpaceRelease(colorspace);</span><br><span class="line"></span><br><span class="line">CGContextRestoreGState(triangleContext);</span><br><span class="line"></span><br><span class="line">// 添加阴影</span><br><span class="line">CGContextRef logoContext = UIGraphicsGetCurrentContext();</span><br><span class="line">CGContextSaveGState(logoContext);</span><br><span class="line">CGContextSetShadow(logoContext, CGSizeMake(4, 7), 3);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 添加logo，中心点为屏幕中心点</span><br><span class="line">CGRect logoFrame = CGRectMake(center.x - bounds.size.width / 4,  center.y - bounds.size.height / 4, bounds.size.width / 4 * 2, bounds.size.height / 4 * 2);</span><br><span class="line">UIImage *logoimage = [UIImage imageNamed:@&quot;logo.png&quot;];</span><br><span class="line">[logoimage drawInRect:logoFrame];</span><br><span class="line">UIView *logoView = [[UIView alloc]initWithFrame:logoFrame];</span><br><span class="line">[self.window addSubview:logoView];</span><br><span class="line"></span><br><span class="line">CGContextRestoreGState(logoContext);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>最终效果图：</p>
<p><img src="http://i.imgur.com/zREns9p.png" alt="Hypnosister"></p>
<h2 id="项目代码保存在我的-GitHub-iOSProgramming4edSolutions"><a href="#项目代码保存在我的-GitHub-iOSProgramming4edSolutions" class="headerlink" title="项目代码保存在我的 GitHub: iOSProgramming4edSolutions"></a>项目代码保存在我的 GitHub: <a target="_blank" rel="noopener" href="https://github.com/gewill/iOSProgramming4edSolutions">iOSProgramming4edSolutions</a></h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2015/07/27/cocoapods-install/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Ge Will">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Will's Blog">
      <meta itemprop="description" content="The people who are crazy enough to think they can change the world, are the ones who DO.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Will's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/07/27/cocoapods-install/" class="post-title-link" itemprop="url">CocoaPods 安装步骤</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-07-27 07:26:59" itemprop="dateCreated datePublished" datetime="2015-07-27T07:26:59+08:00">2015-07-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-08 17:06:49" itemprop="dateModified" datetime="2023-09-08T17:06:49+08:00">2023-09-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>看到极客班同学 Kevin Wang 分享的 CocoaPods 笔记：<a target="_blank" rel="noopener" href="http://www.jianshu.com/p/c1063c9017b0">iOS学习备忘录：CocoaPods基本使用技巧</a>，我自己就试着一下。</p>
<p>以下安装 <a target="_blank" rel="noopener" href="https://github.com/AFNetworking/AFNetworking">AFNetworking</a> 的过程，同时参考了：<a target="_blank" rel="noopener" href="https://github.com/AFNetworking/AFNetworking/wiki/Getting-Started-with-AFNetworking">Getting Started with AFNetworking</a> 和 唐巧的 <a target="_blank" rel="noopener" href="http://book.douban.com/subject/26287173/">《iOS 开发进阶》</a>。</p>
<p>感觉 <a target="_blank" rel="noopener" href="https://github.com/AFNetworking/AFNetworking/wiki/Getting-Started-with-AFNetworking">Getting Started with AFNetworking</a>，写的非常好了。我已经没有地方修改，就加了我在安装 CocoaPods 遇到的一个坑。看样子还是要英文顺溜才行。</p>
<p>CocoaPods 网络库加 Podfile 配置文件，一个可以方便添加第三方库，而是团队协作容易统一版本，真真一个好东西。</p>
<h2 id="Step-1-Download-CocoaPods"><a href="#Step-1-Download-CocoaPods" class="headerlink" title="Step 1: Download CocoaPods"></a>Step 1: Download CocoaPods</h2><p>第一步开 VPN，不要问为什么。终端输入：</p>
<pre><code>$ sudo gem install cocoapods
$ pod setup
</code></pre>
<blockquote>
<p>我遇到没有安装没有如何进度和提示，重装 Ruby 和 RubyGems 就好了。</p>
</blockquote>
<pre><code> $ brew install ruby
 $ gem update --system
 
 
</code></pre>
<h2 id="Step-2-Create-a-Podfile"><a href="#Step-2-Create-a-Podfile" class="headerlink" title="Step 2: Create a Podfile"></a>Step 2: Create a Podfile</h2><p>用 Xcode 或其他编辑器新建 <code>Podfile</code>，放在项目根目录下：</p>
<pre><code>$ touch Podfile
$ open -a Xcode Podfile
</code></pre>
<p>并复制下面内容到 <code>Podfile</code>：</p>
<pre><code>source &#39;https://github.com/CocoaPods/Specs.git&#39;
platform :ios, &#39;7.0&#39;
pod &#39;AFNetworking&#39;, &#39;~&gt; 2.5&#39;
</code></pre>
<h2 id="Step-3-Install-Dependencies"><a href="#Step-3-Install-Dependencies" class="headerlink" title="Step 3: Install Dependencies"></a>Step 3: Install Dependencies</h2><pre><code>$ pod install
</code></pre>
<p>以后只要打开 Xcode workspace (<code>.xcworkspace</code>)才行</p>
<pre><code>$ open &lt;YourProjectName&gt;.xcworkspace
</code></pre>
<h2 id="Step-4-Dive-In"><a href="#Step-4-Dive-In" class="headerlink" title="Step 4: Dive In!"></a>Step 4: Dive In!</h2><p>大功告成，至此就可以使用 AFNetworking 了。记得在需要的类中 <code>#import</code> 头文件。</p>
<blockquote>
<p>最后分享一个在<a target="_blank" rel="noopener" href="http://liqi.io/">利器</a>上看到的利器：<a target="_blank" rel="noopener" href="https://www.pushbullet.com/">Pushbullet</a> 是跨平台双向文件传输工具。如果你同时使用 Mac、ios 和 Android 又想要在设备间无线传输图片、文字，那么你一定需要这样的工具。</p>
</blockquote>
<blockquote>
<p>其实还有隐藏功能共享剪切板，瞬间变成神器了，有没有？比微信和 Airdrop 方便多了。</p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2015/07/26/GeekBand-Objective-C-Programming-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Ge Will">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Will's Blog">
      <meta itemprop="description" content="The people who are crazy enough to think they can change the world, are the ones who DO.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Will's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/07/26/GeekBand-Objective-C-Programming-2/" class="post-title-link" itemprop="url">极客班 Objective-C 高级编程（二）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-07-26 21:53:50" itemprop="dateCreated datePublished" datetime="2015-07-26T21:53:50+08:00">2015-07-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-08 17:06:49" itemprop="dateModified" datetime="2023-09-08T17:06:49+08:00">2023-09-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="课堂笔记"><a href="#课堂笔记" class="headerlink" title="课堂笔记"></a>课堂笔记</h2><p><a target="_blank" rel="noopener" href="http://weibo.com/songduan">@段松</a> 老师上课喜欢类比生活中的对象，还是比较容易理解的。</p>
<p>断点的使用可以帮助理解每一行的作用和追踪对象或属性的变化。</p>
<p>内存管理讲的挺详细，发现课程结构顺序和《iOS 编程》很像。</p>
<h2 id="源码保存在我的-GitHub-GeekBand-iOS-Demo"><a href="#源码保存在我的-GitHub-GeekBand-iOS-Demo" class="headerlink" title="源码保存在我的 GitHub: GeekBand-iOS-Demo"></a>源码保存在我的 GitHub: <a target="_blank" rel="noopener" href="https://github.com/gewill/GeekBand-iOS-Demo/tree/master/Objective-C%20Programming">GeekBand-iOS-Demo</a></h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2015/07/25/GeekBand-flip-classroom-week-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Ge Will">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Will's Blog">
      <meta itemprop="description" content="The people who are crazy enough to think they can change the world, are the ones who DO.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Will's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/07/25/GeekBand-flip-classroom-week-2/" class="post-title-link" itemprop="url">极客班线下翻转课堂第二周</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-07-25 17:30:12" itemprop="dateCreated datePublished" datetime="2015-07-25T17:30:12+08:00">2015-07-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-08 17:06:49" itemprop="dateModified" datetime="2023-09-08T17:06:49+08:00">2023-09-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="李建忠：课程安排"><a href="#李建忠：课程安排" class="headerlink" title="@李建忠：课程安排"></a><a target="_blank" rel="noopener" href="http://weibo.com/jzli">@李建忠</a>：课程安排</h2><p>startup：账号系统，登陆系统，setting，有时间的组员可以多做一点</p>
<p>项目变化，很正常，确定人员分配，推动项目往前走。</p>
<h2 id="袁店明：探讨产品"><a href="#袁店明：探讨产品" class="headerlink" title="@袁店明：探讨产品"></a><a target="_blank" rel="noopener" href="http://weibo.com/80yuandm">@袁店明</a>：探讨产品</h2><p>我们小组的项目“一秒”：需求真实性，目的在哪里，目标用户为什么会用，解决什么问题。</p>
<p>添加一个主题：亲子成长，空气环境变化。</p>
<p>分享带有主题的视频，类似 iMovie 的手机版</p>
<p>很多时候需求都是你自己猜想的，产品的使用场景，都是需要验证的！</p>
<p><strong>言语表达要求很高。</strong></p>
<p><strong>语言描述要准确</strong>，不一定要非常简练华丽。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://weibo.com/jzli">@李建忠</a>: A good thinker is a good talker.</p>
</blockquote>
<p>例子：上班很远，并不是所有人都是问题，并不是所有人都一样的界定。所以提供的解决方案都不一样，用户真实的上班方式开车自行车走路，又该如何解决？要面对面访谈用户，电话次之。</p>
<p>产品探索过程中，要抛弃自己的创意和解决方法，重点在用户的需求和相应的解决方案，最后收敛（投票和排序重要性）成一个产品。</p>
<p>所有人：销售运营开发测试产品经理坐在一起产品的逻辑推理，然后才能进行用户访谈。</p>
<p>用户细分，不然找错人浪费了时间经理。</p>
<p>这一套做产品思维，可以用工作中，如正在培训的创业公司敏捷开发。</p>
<p>不要让天使用户看到你的访谈的问题。</p>
<p>热点事件来分析，<strong>提高逻辑推理</strong>。推荐<a target="_blank" rel="noopener" href="http://book.douban.com/subject/1137278/">《系统化思维导论》</a>。</p>
<p>最近在看<a target="_blank" rel="noopener" href="http://book.douban.com/subject/26278639/">《精益数据分析》</a>。</p>
<p>用户群不要混合现有用户群来定义你的用户群，如：色影无忌和蜂鸟网</p>
<p>用户发现问题-&gt;寻找解决方案-&gt;找到产品-&gt;愿意付费</p>
<blockquote>
<p>我是 iOS 学员，关于产品方面听来挺过瘾。多谢 Tele Deng 的笔记：<a target="_blank" rel="noopener" href="http://note.youdao.com/share/?id=befe7cc6bef23e9f7d6ceb4fe4567590&type=note">【极客班-精益产品探索】第一周课堂笔记</a>。</p>
</blockquote>
<h2 id="段松：iOS-大纲的梳理"><a href="#段松：iOS-大纲的梳理" class="headerlink" title="@段松：iOS 大纲的梳理"></a><a target="_blank" rel="noopener" href="http://weibo.com/songduan">@段松</a>：iOS 大纲的梳理</h2><blockquote>
<p>说话真心快</p>
</blockquote>
<p>创业中：<a target="_blank" rel="noopener" href="https://itunes.apple.com/us/app/jian-mei-le/id1001465884?mt=8">健美乐</a></p>
<p>过去培训经验：5小时 * 12天完成培训，走向职场。</p>
<p>不是看了多少书，死记硬背了多少知识点，更多是写代码的能力，写的多了自然会用了。</p>
<p>学习过程中类比现实生活中的东西，可能比较容易理解。</p>
<p>代理就是委托，力有不逮时，联系朋友去完成。</p>
<p>学习方法：就是梳理大纲知识点，掌握要点，理清楚后，自己写代码自然就会了。</p>
<p>先学习整体框架，后学习细节。</p>
<p>UITabBarViewController 90%使用的框架。</p>
<p>UITableView</p>
<p>实战中的两种应用框架（后续课程）</p>
<p>查看开源项目，删除多余的部分，只看自己关注的部分。最基本也要会用开源框架。</p>
<p>iOS 数据结构用的不多。</p>
<p>分享易庆晟的笔记：<a target="_blank" rel="noopener" href="http://www.jianshu.com/p/8a24ffc1dd22">GeekBand第二周线下课堂</a>，总结的非常好。</p>
<h2 id="李建忠：C-辅导"><a href="#李建忠：C-辅导" class="headerlink" title="@李建忠：C++ 辅导"></a><a target="_blank" rel="noopener" href="http://weibo.com/jzli">@李建忠</a>：C++ 辅导</h2><p>分享 X-Lion 的 C++ 笔记：<a target="_blank" rel="noopener" href="http://blog.csdn.net/lionpku/article/details/47059299?from=timeline&isappinstalled=0">极客班GeekBand - C++第一次课程辅导 - 李建忠</a>，和于航的笔记：<a target="_blank" rel="noopener" href="http://www.yhspy.com/blog/67.html">GeekBank极客班C++线下班学习心得（二）</a>。</p>
<h2 id="李建忠：确定项目"><a href="#李建忠：确定项目" class="headerlink" title="@李建忠：确定项目"></a><a target="_blank" rel="noopener" href="http://weibo.com/jzli">@李建忠</a>：确定项目</h2><p>均衡组员分配，iOS&#x2F;C++&#x2F;PM，考虑到产品上线审核产生的延迟，要提前两周就要完成项目，约9月12日。</p>
<p> <strong>基于 MVP，产品原型图和技术要点分解同步进行，快速迭代，让真实项目催促你前进。</strong></p>
<p>一天下来，我们小组项目最终打磨为：“一秒变大人”，张诚 PM、我和易庆晟iOS 方面、郭意亮 C++ 技术、还有新加入的沈秋艳 PM，希望尽快下周末前出第一个版本。</p>
<p>我负责项目图片视频处理方面，TODO：</p>
<p>-阅读图片视频相关的文档<br>-objc.io 关于图片视频的小节<br>-找几个相关开源的项目</p>
<p>Swift or Objective-C？虽然两门课都有，但是我还是❤️Swift，并不仅仅因为❤️Taylor。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2015/07/24/iOS-Programming-4ed-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Ge Will">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Will's Blog">
      <meta itemprop="description" content="The people who are crazy enough to think they can change the world, are the ones who DO.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Will's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/07/24/iOS-Programming-4ed-3/" class="post-title-link" itemprop="url">《iOS 编程》3. 通过 ARC 管理内存</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-07-24 12:00:00" itemprop="dateCreated datePublished" datetime="2015-07-24T12:00:00+08:00">2015-07-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-08 17:06:49" itemprop="dateModified" datetime="2023-09-08T17:06:49+08:00">2023-09-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="3-1-栈"><a href="#3-1-栈" class="headerlink" title="3.1 栈"></a>3.1 栈</h2><p>栈对应方法或函数的帧，堆则是包含大量 iOS 应用创建的对象</p>
<h2 id="3-3-指针变量与对象所有权"><a href="#3-3-指针变量与对象所有权" class="headerlink" title="3.3 指针变量与对象所有权"></a>3.3 指针变量与对象所有权</h2><p>引用计数就是社保局，调查每个人有几份工作，一个正式工作，或兼职几份工作，或失业。失业，内存就会被释放，就会给你这个 free man 推荐新工作。</p>
<p>那些情况会使对象失去拥有者：</p>
<ul>
<li>修改指针指向另一个变量（跳槽）</li>
<li>设为 nil（辞职）</li>
<li>对象拥有者被释放（公司倒闭）</li>
<li>从 collection 对象中删除对象（裁员）</li>
</ul>
<p>当对象没有拥有者时，指针变量的内存就该被释放。</p>
<h2 id="3-4-强引用与弱引用"><a href="#3-4-强引用与弱引用" class="headerlink" title="3.4 强引用与弱引用"></a>3.4 强引用与弱引用</h2><p><img src="http://ww2.sinaimg.cn/large/5369602ejw1eue4oorli3j20go08amxk.jpg" alt="解决强引用循环问题后的RandomItems"><br>大部分强引用循环可以确定一个父子关系，子对象改为弱引用即可。</p>
<p>Xcode 的 Leaks 工具可以帮忙找出强引用循环问题。</p>
<h2 id="3-5-属性"><a href="#3-5-属性" class="headerlink" title="3.5 属性"></a>3.5 属性</h2><p>声明属性，等于隐式地声明和创建相应名称的实例变量，声明一对存取方法。当然我们还可以自定义存取方法。</p>
<p>属性的特性（attribute）:</p>
<ul>
<li>多线程：nonatomic&#x2F;atomic</li>
<li>读写：readwrite&#x2F;readonly</li>
<li>内存管理：strong&#x2F;weak&#x2F;copy&#x2F;unsafe_unretained</li>
</ul>
<h2 id="项目代码保存在我的-GitHub-iOSProgramming4edSolutions"><a href="#项目代码保存在我的-GitHub-iOSProgramming4edSolutions" class="headerlink" title="项目代码保存在我的 GitHub: iOSProgramming4edSolutions"></a>项目代码保存在我的 GitHub: <a target="_blank" rel="noopener" href="https://github.com/gewill/iOSProgramming4edSolutions">iOSProgramming4edSolutions</a></h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2015/07/23/iOS-Programming-4ed-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Ge Will">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Will's Blog">
      <meta itemprop="description" content="The people who are crazy enough to think they can change the world, are the ones who DO.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Will's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/07/23/iOS-Programming-4ed-2/" class="post-title-link" itemprop="url">《iOS 编程》2. Objective-C</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-07-23 15:44:27" itemprop="dateCreated datePublished" datetime="2015-07-23T15:44:27+08:00">2015-07-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-08 17:06:49" itemprop="dateModified" datetime="2023-09-08T17:06:49+08:00">2023-09-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>网站加了一个 <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-filter-auto-spacing">hexo-filter-auto-spacing</a> 插件，中英文之间自动加空格😊</p>
</blockquote>
<h2 id="2-1-类和对象"><a href="#2-1-类和对象" class="headerlink" title="2.1 类和对象"></a>2.1 类和对象</h2><ul>
<li><p>类和对象。对象通过实例变量保存属性的值。</p>
</li>
<li><p>类有方法，类似函数，调用对象的方法一般叫发消息。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ partyInstance addAttendee: somePerson</span><br><span class="line">                   withDish: deviledEggs]</span><br></pre></td></tr></table></figure></li>
<li><p>方法的唯一性取决方法名。</p>
</li>
<li><p>实例变量的存取方法：get 和 set</p>
</li>
<li><p>发消息的三种语法：</p>
<ul>
<li>发消息[]：调用方法</li>
<li>点语法.：存取实例变量</li>
<li>下标语法[]：访问数组</li>
</ul>
</li>
<li><p>类方法和实例方法区别：</p>
<ul>
<li>类方法通常用来创建对象，或者获取类的全局变量</li>
<li>实例变量则是用来操作类的对象（对象就是类的实例），如存取方法</li>
</ul>
</li>
<li><p>类方法的初始化</p>
<p>必须选一个指定初始化方法，其他初始化方法可以调用指定初始化方法，形成一个初始化方法链<br><img src="http://ww2.sinaimg.cn/large/5369602ejw1eudiggqtaej20go08adgf.jpg" alt="初始化方法链"></p>
</li>
</ul>
<h2 id="2-5-NSArray与-NSMultableArray"><a href="#2-5-NSArray与-NSMultableArray" class="headerlink" title="2.5 NSArray与 NSMultableArray"></a>2.5 NSArray与 NSMultableArray</h2><p>数组对象只能保存指向 Objective-C 对象的指针，不能保存基本类型和 C 结构加入数组对象。当然包装成 Objective-C 对象，就可以了，如 NSNumber、NSValue 和 NSDate。nil 包装成 NSNull 才能加入数组。</p>
<h2 id="项目代码保存在我的-GitHub-iOSProgramming4edSolutions"><a href="#项目代码保存在我的-GitHub-iOSProgramming4edSolutions" class="headerlink" title="项目代码保存在我的 GitHub: iOSProgramming4edSolutions"></a>项目代码保存在我的 GitHub: <a target="_blank" rel="noopener" href="https://github.com/gewill/iOSProgramming4edSolutions">iOSProgramming4edSolutions</a></h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2015/07/22/CS193P-7-Multiple-MVCs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Ge Will">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Will's Blog">
      <meta itemprop="description" content="The people who are crazy enough to think they can change the world, are the ones who DO.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Will's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/07/22/CS193P-7-Multiple-MVCs/" class="post-title-link" itemprop="url">CS193P 7. Multiple MVCs</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-07-22 12:40:09" itemprop="dateCreated datePublished" datetime="2015-07-22T12:40:09+08:00">2015-07-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-08 17:06:49" itemprop="dateModified" datetime="2023-09-08T17:06:49+08:00">2023-09-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="1-Split-View-Controllers-amp-Navigation-Controllers-amp-Tab-Bar-Controllers"><a href="#1-Split-View-Controllers-amp-Navigation-Controllers-amp-Tab-Bar-Controllers" class="headerlink" title="1. Split View Controllers &amp; Navigation Controllers &amp; Tab Bar Controllers"></a>1. Split View Controllers &amp; Navigation Controllers &amp; Tab Bar Controllers</h2><blockquote>
<p>Slide 中图太多就不一一贴在这里了</p>
</blockquote>
<p>UINavigationController 比喻成一堆卡片，只能看到一张卡片。新的 MVC 出来，旧的就被丢弃。</p>
<h2 id="2-Segues"><a href="#2-Segues" class="headerlink" title="2. Segues"></a>2. Segues</h2><p>Segue 总是引导到一个新建的 MVC，旧的同样被丢弃。</p>
<p>Storyboard 总是通过名字连接代码的：UIView 的 Class、View Controller 的 Class、Outlet 的名字、IBAction 的名字，这是一种松散耦合，能够这个两件东西连接起来。</p>
<h2 id="3-Demo-Psychologist"><a href="#3-Demo-Psychologist" class="headerlink" title="3. Demo: Psychologist"></a>3. Demo: Psychologist</h2><p>最好的理解就是做实践（Demo）。</p>
<p>我们将会新建一个 Psychologist MVC</p>
<p>Psychologist 将会披露他的诊断，通过 segue Happiness MVC。</p>
<p>我们会把 MVCs 放进 navigation controllers 内部 split view controllers,它将兼容 iPad 和 iPhone 设备。</p>
<p>Autolayout 另一个技巧是使用 Reset to Suggested Constraints，配合 Size Inspector 面板里 Descendant Constraints。</p>
<h2 id="4-Popovers"><a href="#4-Popovers" class="headerlink" title="4. Popovers"></a>4. Popovers</h2><p>Popover 对应的是 popoverPresentationController</p>
<p>由于 Popover 出来的 MVC 每次的新建的，History 相关信息可以存储到 NSUserDefaults 中。</p>
<p>iPad 是小的弹窗，iPhone 默认 Modal，可以改回 Popover。</p>
<p>可以UIPopoverPresentationControllerDelegate协议，重写  UIViewController 中的 preferredContentSize 自定义大小。</p>
<h2 id="源码保存在我的-GitHub-CS193P-2015"><a href="#源码保存在我的-GitHub-CS193P-2015" class="headerlink" title="源码保存在我的 GitHub: CS193P-2015"></a>源码保存在我的 GitHub: <a target="_blank" rel="noopener" href="https://github.com/gewill/CS193P-2015">CS193P-2015</a></h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2015/07/20/CS193P-6-Protocols-and-Delegation-Gestures/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Ge Will">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Will's Blog">
      <meta itemprop="description" content="The people who are crazy enough to think they can change the world, are the ones who DO.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Will's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2015/07/20/CS193P-6-Protocols-and-Delegation-Gestures/" class="post-title-link" itemprop="url">CS193P 6. Protocols and Delegation, Gestures</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-07-20 22:05:05" itemprop="dateCreated datePublished" datetime="2015-07-20T22:05:05+08:00">2015-07-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-08 17:06:49" itemprop="dateModified" datetime="2023-09-08T17:06:49+08:00">2023-09-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>网站添加 Tags，方便分类查找文章。 <a target="_blank" rel="noopener" href="https://medium.com/">Medium</a> 非常简洁优雅，可以借鉴。网站改版和文章排版比较耗费时间，以后要以内容输出优先。</p>
<p>关于课程中 Swift 语言的知识我只是简单浏览一遍，毕竟他说的也不详细，真正搞懂还是要系统学习。复习一下《疯狂 Swift 讲义》或者 Google 都是可行的。重要是 Demo 实践。今天微博看到的玩笑：<a target="_blank" rel="noopener" href="http://www.theallium.com/engineering/computer-programming-to-be-officially-renamed-googling-stackoverflow/">Computer Programming To Be Officially Renamed “Googling Stackoverflow”
</a>。</p>
<h2 id="1-Interface-Builder"><a href="#1-Interface-Builder" class="headerlink" title="1. Interface Builder"></a>1. Interface Builder</h2><p>Demo: 自定义 UIViews in your storyboard (FaceView)</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://www.cocoachina.com/ios/20140619/8883.html">如何在iOS 8中使用Swift和Xcode 6制作精美的UI组件</a> 有个例子：苹果在Xcode 6中加入了两个新的Interface Builder（下文用IB简称）属性声明:IBInspectable和IBDesignable。IBInspectable在IB的Attribute Inspector（属性检查器）中查看类的属性，而IBDesignable能实时更新视图，很厉害吧！</p>
</blockquote>
<h2 id="2-The-Happiness-MVC’s-Model"><a href="#2-The-Happiness-MVC’s-Model" class="headerlink" title="2. The Happiness MVC’s Model"></a>2. The Happiness MVC’s Model</h2><p>是寄于 HappinessViewController 里的 happiness，不同于 smiliness。</p>
<h2 id="3-Protocols-and-Delegation"><a href="#3-Protocols-and-Delegation" class="headerlink" title="3. Protocols and Delegation"></a>3. Protocols and Delegation</h2><p>扩展</p>
<p>协议也是一种数据类型</p>
<p>代理是一种非常重要的协议的应用。<br>代理是我们完成视图和控制器盲沟通的方式。</p>
<p><img src="http://i.imgur.com/OuW94mJ.png" alt="Delegation"></p>
<p>通过代理模式 UIViews 可以控制 Model，虽然并不是真的拥有 Model。</p>
<p><strong>如何实现：</strong></p>
<ol>
<li>视图中创建一个代理协议 (定义具体视图想要控制器关心的内容) </li>
<li>视图中创建一个代理的属性，其类型是代理协议</li>
<li>视图中使用代理的属性去得到并不用的事，或做并不能控制的事</li>
<li>控制器声明并完成代理协议</li>
<li>控制器把自己作为视图的代理，通过设置设置代理的属性（上面2提到的）</li>
<li>控制器实施协议</li>
</ol>
<p>现在视图就勾住了控制器。不过视图仍不晓得控制器的内容，所以视图仍是通用&#x2F;可重复使用的。</p>
<p><strong>Demo:  Happiness MVC’s Model using generic FaceView in its View</strong></p>
<blockquote>
<p>Cmd + Shift + O 快速打开文档，有种 Xcode 内置 spotlight 的即视感。</p>
</blockquote>
<p>FaceView.swift 为自定义 UIView 的类，是 View。<br>HappinessViewController.swift 是继承自 UIViewController，是 Controller。</p>
<p>View 中 dataSource 是 protocol FaceViewDataSource 的属性（代理或数据源），作为 dataSource?.smilinessForFaceView(self) 的形参。</p>
<p>Controller 实现了该协议，并将自己作为代理的对象，并通过 happiness 变量来改变协议中</p>
<p>Controller 中的 faceView 通过 Outlet 监控 dataSource 值的改变（didSet），来控制 View 笑脸的变化（smiliness）。</p>
<p><img src="http://i.imgur.com/Zop3POa.png" alt="Happiness MVC"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">//  FaceView.swift 部分代码</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">protocol FaceViewDataSource: class &#123;</span><br><span class="line">    func smilinessForFaceView(sender: FaceView) -&gt; Double?</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@IBDesignable</span><br><span class="line">class FaceView: UIView</span><br><span class="line">&#123;</span><br><span class="line">    @IBInspectable</span><br><span class="line">    var lineWidth: CGFloat = 3 &#123; didSet &#123; setNeedsDisplay() &#125; &#125;</span><br><span class="line">    @IBInspectable</span><br><span class="line">    var color: UIColor = UIColor.blueColor() &#123; didSet &#123; setNeedsDisplay() &#125; &#125;</span><br><span class="line">    @IBInspectable</span><br><span class="line">    var scale: CGFloat = 0.90 &#123; didSet &#123; setNeedsDisplay() &#125; &#125;</span><br><span class="line">    </span><br><span class="line">    var faceCenter: CGPoint &#123;</span><br><span class="line">        return convertPoint(center, fromView: superview)</span><br><span class="line">    &#125;</span><br><span class="line">    var faceRadius: CGFloat &#123;</span><br><span class="line">        return min(bounds.size.width, bounds.size.height) / 2 * scale</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    weak var dataSource: FaceViewDataSource?</span><br><span class="line">    </span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">//  HappinessViewController.swift</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class HappinessViewController: UIViewController, FaceViewDataSource</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    @IBOutlet weak var faceView: FaceView! &#123;</span><br><span class="line">        didSet &#123;</span><br><span class="line">            faceView.dataSource = self</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    var happiness: Int = 99 &#123; // 0 = very sad, 100 = ecstatic</span><br><span class="line">        didSet &#123;</span><br><span class="line">            happiness = min(max(happiness, 0), 100)</span><br><span class="line">            print(&quot;happiness = \(happiness)&quot;)</span><br><span class="line">            updateUI()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func updateUI() &#123;</span><br><span class="line">        faceView.setNeedsDisplay()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func smilinessForFaceView(sender: FaceView) -&gt; Double? &#123;</span><br><span class="line">        return Double(happiness - 50) / 50</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="4-Gestures"><a href="#4-Gestures" class="headerlink" title="4. Gestures"></a>4. Gestures</h2><p>手势识别分两步走：</p>
<ol>
<li>Adding a gesture recognizer to a UIView (asking the UIView to “recognize” that gesture)</li>
<li>Providing a method to “handle” that gesture (not necessarily handled by the UIView)</li>
</ol>
<blockquote>
<p>Usually the first is done by a Controller<br>Though occasionally a UIView will do this itself if the gesture is integral to its existence</p>
</blockquote>
<blockquote>
<p>The second is provided either by the UIView or a Controller Depending on the situation. We’ll see an example of both in our demo.</p>
</blockquote>
<h3 id="第一步：Adding-a-gesture-recognizer-to-a-UIView"><a href="#第一步：Adding-a-gesture-recognizer-to-a-UIView" class="headerlink" title="第一步：Adding a gesture recognizer to a UIView"></a>第一步：Adding a gesture recognizer to a UIView</h3><p>Imagine we wanted a UIView in our Controller’s View to recognize a “pan” gesture …</p>
<p><img src="http://i.imgur.com/c1mSjmj.png" alt="pannableView"></p>
<blockquote>
<p>上面的代码造成排版错误，估计代码高亮产生的，先换成图片。</p>
</blockquote>
<p>This is just a normal outlet to the UIView we want to recognize the gesture</p>
<p>We use its property observer to get involved when the outlet gets hooked up by iOS</p>
<p>Here we are creating an instance of a concrete subclass of UIGestureRecognizer (for pans) </p>
<p>The target gets notified when the gesture is recognized (in this case, the Controller itself) </p>
<p>The action is the method invoked on recognition (the : means it has an argument)</p>
<p>Here we ask the UIView to actually start trying to recognize this gesture in its bounds </p>
<p>Let’s talk about how we implement the handler …</p>
<h3 id="第二步：A-handler-for-a-gesture-needs-gesture-specific-information"><a href="#第二步：A-handler-for-a-gesture-needs-gesture-specific-information" class="headerlink" title="第二步：A handler for a gesture needs gesture-specific information"></a>第二步：A handler for a gesture needs gesture-specific information</h3><p>So each concrete subclass provides special methods for handling that type of gesture</p>
<p><strong>For example, UIPanGestureRecognizer provides 3 methods</strong></p>
<p><code>func translationInView(view: UIView) -&gt; CGPoint</code> &#x2F;&#x2F; cumulative since start of recognition </p>
<p><code>func velocityInView(view: UIView) -&gt; CGPoint</code> &#x2F;&#x2F; how fast the finger is moving (points&#x2F;s)</p>
<p><code>func setTranslation(translation: CGPoint, inView: UIView)</code></p>
<p>This last one is interesting because it allows you to reset the translation so far</p>
<p>By resetting the translation to zero all the time, you end up getting “incremental” translation </p>
<p><strong>The abstract superclass also provides state information</strong></p>
<p><code>var state: UIGestureRecognizerState &#123; get &#125;</code><br>This sits around in <code>.Possible</code> until recognition starts<br>For a discrete gesture (e.g. a Swipe), it changes to <code>.Recognized</code> (Tap is not a normal discrete) For a continues gesture (e.g. a Pan), it moves from <code>.Began</code> thru repeated <code>.Changed</code> to <code>.Ended</code><br>It can go to <code>.Failed</code> or <code>.Cancelled</code> too, so watch out for those!</p>
<p><strong>So, given this information, what would the pan handler look like?</strong></p>
<pre><code>  func pan(gesture: UIPanGestureRecognizer) &#123;
      switch gesture.state &#123;
          case .Changed: fallthrough
          case .Ended:
              let translation = gesture.translationInView(pannableView)
// update anything that depends on the pan gesture using translation.x and .y
￼            gesture.setTranslation(CGPointZero, inView: pannableView)
        default: break
     &#125;
&#125;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Remember that the action was “pan:” (if no colon, we would not get the gesture argument)</span><br><span class="line"></span><br><span class="line">We are only going to do anything when the finger moves or lifts up off the device’s surface </span><br><span class="line"></span><br><span class="line">fallthrough means “execute the code for the next case down”Here we get the location of the pan in the pannableView’s coordinate systemNow we do whatever we want with that informationBy resetting the translation, the next one we get will be how much it moved since this one### 常用手势：</span><br><span class="line">- UIPinchGestureRecognizer</span><br><span class="line">  var scale: CGFloat // not read-only (can reset)</span><br><span class="line">  </span><br><span class="line">  var   velocity: CGFloat &#123; get &#125; // scale factor per second</span><br><span class="line">  - UIRotationGestureRecognizer</span><br><span class="line">  var rotation: CGFloat // not read-only (can reset); in radians </span><br><span class="line">  </span><br><span class="line">  var velocity: CGFloat &#123; get &#125; // radians per second</span><br><span class="line">  - UISwipeGestureRecognizer  Set up the direction and number of fingers you want, then look for .Recognized</span><br><span class="line">  </span><br><span class="line">  var direction: UISwipeGestureRecoginzerDirection // which swipes you want </span><br><span class="line">  </span><br><span class="line">  var numberOfTouchesRequired: Int // finger count</span><br><span class="line">  - UITapGestureRecognizer</span><br><span class="line">  Set up the number of taps and fingers you want, then look for .Ended </span><br><span class="line">  </span><br><span class="line">  var numberOfTapsRequired: Int // single tap, double tap, etc. </span><br><span class="line">  </span><br><span class="line">  var numberOfTouchesRequired: Int // finger count</span><br><span class="line">  </span><br><span class="line">￼￼￼￼### Demo: Happiness pinch and pan</span><br><span class="line"></span><br><span class="line">**FaceView Gestures**</span><br><span class="line">Add a gesture recognizer (pinch) to the FaceView to zoom in and out (control its own scale) </span><br><span class="line"></span><br><span class="line">Add a gesture recognizer (pan) to the FaceView to control happiness (Model) in the Controller```</span><br><span class="line"></span><br><span class="line">//  FaceView.swift 部分代码</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">protocol FaceViewDataSource: class &#123;</span><br><span class="line">    func smilinessForFaceView(sender: FaceView) -&gt; Double?</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">    // 2. handler</span><br><span class="line">    func scale(gestrue: UIPinchGestureRecognizer) &#123;</span><br><span class="line">    </span><br><span class="line">        if gestrue.state == .Changed &#123;</span><br><span class="line">            scale *= gestrue.scale</span><br><span class="line">            gestrue.scale = 1</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">   </span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">//  HappinessViewController.swift 部分代码</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class HappinessViewController: UIViewController, FaceViewDataSource</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    @IBOutlet weak var faceView: FaceView! &#123;</span><br><span class="line">        didSet &#123;</span><br><span class="line">            faceView.dataSource = self</span><br><span class="line">            </span><br><span class="line">            // 1. Adding a gesture recognizer</span><br><span class="line">            faceView.addGestureRecognizer(UIPinchGestureRecognizer(target: faceView, action: &quot;scale:&quot;))</span><br><span class="line">            // try in storyboard</span><br><span class="line">            // faceView.addGestureRecognizer(UIPanGestureRecognizer(target: self, action: &quot;changeHapponess:&quot;))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    // 通过 storyboard 添加 Pan Gesture Recognizer，然后 storyboard 添加 IBAction 到 Controller 中</span><br><span class="line">    private struct Constants &#123;</span><br><span class="line">        static let HappinessGestureScale: CGFloat = 4</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    @IBAction func changeHappiness(gesture: UIPanGestureRecognizer) &#123;</span><br><span class="line">        switch gesture.state &#123;</span><br><span class="line">        case .Ended: fallthrough</span><br><span class="line">        case .Changed:</span><br><span class="line">            let translatrion = gesture.translationInView(faceView)</span><br><span class="line">            let happinessChange = -Int(translatrion.y / Constants.HappinessGestureScale)</span><br><span class="line">            if happinessChange != 0 &#123;</span><br><span class="line">                happiness -= happinessChange</span><br><span class="line">                gesture.setTranslation(CGPointZero, inView: faceView)</span><br><span class="line">            &#125;</span><br><span class="line">        default: break</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    var happiness: Int = 3 &#123; // 0 = very sad, 100 = ecstatic</span><br><span class="line">        didSet &#123;</span><br><span class="line">            happiness = min(max(happiness, 0), 100)</span><br><span class="line">            print(&quot;happiness = \(happiness)&quot;)</span><br><span class="line">            updateUI()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func updateUI() &#123;</span><br><span class="line">        faceView.setNeedsDisplay()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    func smilinessForFaceView(sender: FaceView) -&gt; Double? &#123;</span><br><span class="line">        return Double(happiness - 50) / 50</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


&gt;有待翻译

## 5. 拓展阅读

[UIGestureRecognizer Tutorial: Getting Started](http://www.raywenderlich.com/76020/using-uigesturerecognizer-with-swift-tutorial)


## 项目代码保存在我的 GitHub: [CS193P-2015](https://github.com/gewill/CS193P-2015)
</code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/15/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/page/17/">17</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/17/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Ge Will</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  





</body>
</html>
